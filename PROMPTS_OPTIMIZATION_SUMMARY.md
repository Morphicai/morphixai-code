# 提示词文件优化总结

## 优化对比

### 之前的方案

**Cursor (.cursor/rules/)：**
- 8 个独立的 md 文件
- 总计约 2000+ 行
- 分散在多个文件中
- 内容重复

**Claude (CLAUDE.md)：**
- 1 个巨大文件
- 1544 行
- 包含所有开发规范
- 与 Cursor 内容大量重复

### 现在的方案

**统一文档 (docs/DEVELOPMENT_GUIDE.md)：**
- 1 个完整的开发指南
- 1331 行
- 所有编辑器共享
- 单一维护入口

**Cursor (.cursorrules)：**
- 极简文件
- 仅 27 行
- 强调阅读完整文档
- 使用 `@DEVELOPMENT_GUIDE.md` 引用

**Claude (CLAUDE.md)：**
- 极简文件
- 仅 51 行
- 强调阅读完整文档
- 清晰的文档链接

**README (README.md)：**
- 项目说明文档
- 159 行
- 包含快速开始指南
- 项目结构说明
- 强调阅读完整文档

## 文件大小对比

| 文件 | 之前 | 现在 | 变化 |
|-----|------|------|------|
| Cursor 提示词 | ~2000 行（8个文件） | 27 行（1个文件） | 98.6% ↓ |
| Claude 提示词 | 1544 行 | 51 行 | 96.7% ↓ |
| README | 无 | 159 行 | 新增 ✨ |
| 共享文档 | 无 | 1330 行 | 新增 ✨ |
| **总计** | **3544+ 行** | **1567 行** | **55.8% ↓** |

## 核心变化

### 1. 去除文件限制

**之前：**
```markdown
- ❌ **严禁**：修改 `_dev/` 目录内容（这是 CLI 的内部目录）
```

**现在：**
```markdown
- ✅ **允许**：在应用根目录及其子目录下创建、修改任何文件
- ❌ **严禁**：修改 `docs/` 和 `public/` 目录
```

**原因：** 新目录结构中已不存在 `_dev` 目录（改为直接在项目根目录）

### 2. 强调阅读完整文档

**Cursor (.cursorrules)：**
```markdown
## 📖 重要提示

**在开始开发前，请务必完整阅读：**

👉 **[@DEVELOPMENT_GUIDE.md](docs/DEVELOPMENT_GUIDE.md)**

该文档包含完整的开发规范、技术栈说明、SDK 使用指南、UI/UX 规范和最佳实践。
```

**Claude (CLAUDE.md)：**
```markdown
## 📖 重要提示

**在开始开发前，请务必完整阅读完整开发指南：**

👉 **[docs/DEVELOPMENT_GUIDE.md](docs/DEVELOPMENT_GUIDE.md)**

该文档包含：
- 🎯 完整技术栈说明（React 19、Ionic React 8.6、React Router 5.3.4 等）
- 🚀 MorphixAI SDK 完整使用指南（相机、位置、AI、数据存储等）
- 🎨 UI/UX 规范（图标、Tab 导航、PageHeader 等）
- 📚 最佳实践模式（服务层、Hook 模式、状态管理等）
- ⚠️ 错误处理规范
```

### 3. 保留快速参考

两个提示词文件都保留了最关键的快速参考信息：

- **核心约束**：开发范围限制
- **快速要点**：
  - 入口文件：`app.jsx`
  - 样式：CSS Modules
  - 路由：React Router 5.3.4
  - 错误处理：try-catch + reportError

## 实际效果

### 文件树对比

**之前：**
```
template/
├── .cursor/
│   └── rules/
│       ├── morphixai-app-development.md    (500+ 行)
│       ├── file-protection.md              (100+ 行)
│       ├── docs-context.md                 (200+ 行)
│       ├── appsdk-api.md                   (600+ 行)
│       ├── appsdk-best-practices.md        (300+ 行)
│       ├── code_standards.md               (200+ 行)
│       ├── icons-usage.md                  (100+ 行)
│       └── README.md                       (50+ 行)
├── CLAUDE.md                               (1544 行)
└── .promptsrc
```

**现在：**
```
template/
├── docs/
│   └── DEVELOPMENT_GUIDE.md                (1330 行) ← 统一文档
├── .cursorrules                            (27 行) ← 极简
├── CLAUDE.md                               (51 行) ← 极简
├── README.md                               (159 行) ← 项目说明
└── .promptsrc
```

## 维护优势

### 1. 单一数据源
- 只需维护一份 `DEVELOPMENT_GUIDE.md`
- 所有编辑器自动同步最新规范
- 避免内容不一致

### 2. 更新更容易
- 修改一次，所有编辑器受益
- 版本控制更清晰
- diff 更易读

### 3. 扩展更简单
添加新编辑器支持只需：
```markdown
# My Editor Rules

**请阅读：** [docs/DEVELOPMENT_GUIDE.md](docs/DEVELOPMENT_GUIDE.md)

## 核心约束
...（3-5 行）

## 快速要点
...（5-10 行）
```

### 4. 用户体验更好
- 明确的文档指引
- 不会被冗长的规范淹没
- 快速找到核心要点
- 需要详情时查阅完整文档

## 最佳实践

### 提示词文件原则

1. **极简主义**：提示词文件应该 < 50 行
2. **强调文档**：多次提醒阅读完整文档
3. **核心要点**：只保留最关键的约束和要点
4. **清晰引用**：使用明显的链接/引用语法

### 完整文档原则

1. **自包含**：包含所有开发需要的信息
2. **结构清晰**：使用明确的章节和层级
3. **示例丰富**：提供大量代码示例
4. **易于搜索**：使用清晰的标题和标记

## 总结

这次优化实现了：

✅ **代码行数减少 55.8%**（3544+ → 1567 行）
✅ **维护文件减少 75%**（9 个 → 2 个核心文档）
✅ **提示词极简化**（27-51 行）
✅ **新增 README**（159 行项目说明）
✅ **去除过时限制**（_dev 目录）
✅ **统一维护入口**（单一完整文档）
✅ **更好的用户体验**（明确的文档指引 + README 快速开始）

这是一次成功的架构优化！🎉

